
<div class="crawl-menu">
  <alert :alert.sync="gameCrawlsAlert"></alert>

  <div class="controls">
    <button class="tiny" v-on:click="addingCrawl = true" :disabled="addingCrawl">New Crawl</button>
  </div>

  <div class="edit-crawl" v-show="addingCrawl" transition="slide-up">
    <partial name="crawl-input-form"></partial>
    <div class="controls">
      <button class="tiny" v-on:click="addingCrawl = false" :disabled="saving">Cancel</button>
      <button class="tiny" v-on:click="addCrawl(false)" :disabled="saving">Save</button>
      <button class="tiny" v-on:click="addCrawl(true)" :disabled="saving">Publish</button>
    </div>
  </div>

  <div class="crawl-list">
    <ul class="zebra-list">
      <li class="crawl-description" v-for="crawl in game.crawls" transition="slide-up">
        <div v-show="activeCrawl.id !== crawl.id" transition="slide-up">
          <div class="row">
            <div class="small-12 medium-8 large-9 columns">
              <h4 class="title">{{ crawl.title }}</h4>
              <h6 class="subtitle">{{ crawl.subtitle }}</h6>
              <p class="crawl-body">{{ crawl.crawl }}</p>
            </div>
            <div class="small-12 medium-4 large-3 columns">
              <img :src="crawl.imageUrl" />
            </div>
          </div>
          <div class="controls">
            <button class="mini" v-on:click="playCrawl(crawl)"><i class="fa fa-play"></i></button>
            <button class="mini" v-on:click="editCrawl(crawl)"><i class="fa fa-folder-open"></i></button>
            <button class="mini" v-on:click="deleteCrawl($index)"><i class="fa fa-trash"></i></button>
          </div>
        </div>
        <div class="edit-crawl" v-show="activeCrawl.id === crawl.id" transition="slide-up">
          <partial name="crawl-input-form"></partial>
          <div class="controls">
            <button class="tiny" v-on:click="cancelEdit()" :disabled="saving">Cancel</button>
            <button class="tiny" v-on:click="saveCrawl($index)" :disabled="saving">Save</button>
            <button class="tiny" v-on:click="saveCrawl($index, true)" :disabled="saving" v-if="!crawl.publish">Publish</button>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <confirm v-ref:game-crawls-confirm></confirm>
  <star-wars-crawl :show.sync="showDemoCrawl" :title="demoTitle" :subtitle="demoSubtitle" :body="demoCrawl" :image="demoImage"></star-wars-crawl>

</div>
